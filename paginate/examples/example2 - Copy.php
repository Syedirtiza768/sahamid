<!doctype html><html>    <head>        <title>Inventory List</title>        <meta charset="utf-8">        <link rel="stylesheet" href="reset.css" type="text/css">        <link rel="stylesheet" href="style.css" type="text/css">        <link rel="stylesheet" href="../public/css/zebra_pagination.css" type="text/css">    </head>    <body>              <?php        // database connection details        $MySQL_host     = 'localhost';        $MySQL_username = 'root';        $MySQL_password = '';        $MySQL_database = 'sah_saherp';        // if could not connect to database        if (!($connection = @mysql_connect($MySQL_host, $MySQL_username, $MySQL_password)))            // stop execution and display error message            die('Error connecting to the database!<br>Make sure you have specified correct values for host, username and password.');        // if database could not be selected        if (!@mysql_select_db($MySQL_database, $connection))            // stop execution and display error message            die('Error selecting database!<br>Make sure you have specified an existing and accessible database.');        // how many records should be displayed on a page?		?>		 <?php 		  $query = "SELECT categoryid,				categorydescription		FROM stockcategory		ORDER BY categorydescription";$queryexec = mysql_query($query) or die(mysql_error());$rowqueryexec = mysql_fetch_assoc($queryexec );		  		  ?>		  <div style = "width:30%; height:100px; clear:both;">		  <form id = "formA" method = "GET" action = "">		  <table>		  <tr><td>		  <h4>Category</h4></td><td>		   		  <select name = "category" onchange = "fsubmit();" >                  <?php do {  ?>              <option <?php if (!isset( $_GET['category'])|| !(strcmp($rowqueryexec['categoryid'], $_GET['category']))) {echo "selected=\"selected\"";} ?> 			  value = "<?php echo $rowqueryexec['categoryid'];?>"			  ><?php echo $rowqueryexec['categorydescription'];?></option>              <?php} while ($rowqueryexec = mysql_fetch_assoc($queryexec ));?>            </select></td><td>			<script>			function fsubmit()			{				document.getElementById("formA").submit();			}			</script>			<?php 			if (isset($_GET['category']))			{		$query = "SELECT distinct manufacturers_id,				manufacturers_name		FROM manufacturers, stockmaster, stockcategory		where stockmaster.brand = manufacturers.manufacturers_id		and stockmaster.categoryid = stockcategory.categoryid		and stockcategory.categoryid = "."'".$_GET['category']."'"."		ORDER BY manufacturers_name";		}		else{		$query = "SELECT distinct manufacturers_id,				manufacturers_name		FROM manufacturers, stockmaster, stockcategory		where stockmaster.brand = manufacturers.manufacturers_id		and stockmaster.categoryid = stockcategory.categoryid				ORDER BY manufacturers_name";		}$queryexec = mysql_query($query) or die(mysql_error());$rowqueryexec = mysql_fetch_assoc($queryexec );		  		  ?></td><td>		  <h4>Brand</h4></td><td>		  <select name = "brand" >                   <?php do {  ?>              <option <?php if (!isset( $_GET['brand'])|| !($rowqueryexec['manufacturers_id']== $_GET['brand'])) {echo "selected=\"selected\"";} ?> 			  value = "<?php echo $rowqueryexec['manufacturers_id'];?>"			  ><?php echo $rowqueryexec['manufacturers_name'];?></option>              <?php} while ($rowqueryexec = mysql_fetch_assoc($queryexec ));?>            </select></td>						<td><select name = "pages"><option value = 10>10</option><option value = 50>50</option><option value = 100>100</option></select></td>			<td><input type = "submit" value = "search"></td>			</table>			</form>			</div>	<?php	  	if (isset($_GET['pages']))    $records_per_page = $_GET['pages'];	else	$records_per_page = 10;        // include the pagination class        require '../Zebra_Pagination.php';        // instantiate the pagination object        $pagination = new Zebra_Pagination();        // set position of the next/previous page links        $pagination->navigation_position(isset($_GET['navigation_position']) && in_array($_GET['navigation_position'], array('left', 'right')) ? $_GET['navigation_position'] : 'outside');        // the MySQL statement to fetch the rows        // note how we build the LIMIT        // also, note the "SQL_CALC_FOUND_ROWS"        // this is to get the number of rows that would've been returned if there was no LIMIT        // see http://dev.mysql.com/doc/refman/5.0/en/information-functions.html#function_found-rows       if (isset($_GET['category'])){	  	  $MySQL = "            SELECT                SQL_CALC_FOUND_ROWS                *				from				stockmaster,					manufacturers					where					stockmaster.brand = manufacturers.manufacturers_id and stockmaster.categoryid  = "."'".$_GET['category']."'"."					and stockmaster.brand  = ".$_GET['brand']."			LIMIT                " . (($pagination->get_page() - 1) * $records_per_page) . ', ' . $records_per_page . '        ';		}		else{	  	  $MySQL = "            SELECT                SQL_CALC_FOUND_ROWS                *				from				stockmaster,					manufacturers					where					stockmaster.brand = manufacturers.manufacturers_id 			LIMIT                " . (($pagination->get_page() - 1) * $records_per_page) . ', ' . $records_per_page . '        ';		}        // if query could not be executed        if (!($result = @mysql_query($MySQL)))            // stop execution and display error message            die(mysql_error());        // fetch the total number of records in the table        $rows = mysql_fetch_assoc(mysql_query('SELECT FOUND_ROWS() AS rows'));        // pass the total number of records to the pagination class        $pagination->records($rows['rows']);        // records per page        $pagination->records_per_page($records_per_page);        ?>        <table class="countries" border="1">        	            <?php $index = 0?>            <?php while ($row = mysql_fetch_assoc($result)):?><tr><th>Stock ID</th><th>Brand</th><th>Manufacturer's Code</th><th>Part Number</th></tr><?php  $MySQL2 = "select stockcatproperties.label,			stockitemproperties.value						from stockcatproperties,stockitemproperties						where stockitemproperties.stkcatpropid =				stockcatproperties.stkcatpropid and stockitemproperties.stockid = "."'".$row['stockid']."'"."			";  $result2 = mysql_query($MySQL2) or mysql_error();        // fetch the total number of records in the table       ?>            <tr<?php echo $index++ % 2 ? ' class="even"' : ''?>>                <td><?php echo $row['stockid']?></td><td><?php echo $row['description']?></td>							  <td><?php echo $row['mnfCode']?></td>			<td><?php echo $row['mnfpno']?></td>			</tr>			</table>			<table class="countries" border="1">			<tr><td><b>Short Description</b></td><td><textarea rows = "2" cols = "50"><?php echo $row['description']?></textarea></td>              </tr>            </table>			<table class="countries" border="1">									<?php $index = 0?>			<tr>			<td>			<table class="countries" >			<tr><th>Property</th><th>Value</th></tr>			<?php while ($row2 = mysql_fetch_assoc($result2)):?>									<tr <?php echo $index++ % 2 ? ' class="even"' : ''?>> 			<td><?php echo $row2['label']?></td>			<td><?php echo $row2['value']?></td>						</tr>			             <?php endwhile?>			 </table>			</td>			<td align = "right"><b>Long Description</b></td>			<td ><textarea rows = "8" cols = "50"><?php echo $row['longdescription']?></textarea></td>			</tr>            <?php endwhile?>        </table>        <?php        // render the pagination links        $pagination->render();        ?>        <script type="text/javascript" src="jquery-1.7.2.js"></script>        <script type="text/javascript" src="../public/javascript/zebra_pagination.js"></script>    </body></html>